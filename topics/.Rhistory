# Mřížka s otočením
vytvor_mrizku(nx = 10, ny = 6, nz = 6,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "grey", tloustka = 1)
# Mřížka s otočením
vytvor_mrizku(nx = 10, ny = 6, nz = 6,
rotace_x = 0, rotace_y = 45, rotace_z = 0,
barva = "grey", tloustka = 1)
# Mřížka s otočením
vytvor_mrizku(nx = 10, ny = 6, nz = 6,
rotace_x = 0, rotace_y = 0, rotace_z = 45,
barva = "grey", tloustka = 1)
# Mřížka s otočením
vytvor_mrizku(nx = 10, ny = 6, nz = 6,
rotace_x = 0, rotace_y = 45, rotace_z = 45,
barva = "grey", tloustka = 1)
# Mřížka s otočením
vytvor_mrizku(nx = 10, ny = 6, nz = 6,
rotace_x = 45, rotace_y = 45, rotace_z = 45,
barva = "grey", tloustka = 1)
vytvor_mrizku(nx = 25, ny = 25, nz = 12,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray30", tloustka = 1)
vytvor_mrizku(nx = 10, ny = 10, nz = 6,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray", tloustka = 1)
# Bez umístění na zem (původní chování)
vytvor_mrizku(nx = 20, ny = 20, nz = 10,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray", tloustka = 1,
zem = FALSE)
library(rgl)
vytvor_mrizku <- function(nx = 5, ny = 5, nz = 5,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "blue", tloustka = 2,
zem = TRUE) {  # NOVÝ PARAMETR
open3d()
x <- 0:nx
y <- 0:ny
z <- 0:nz
rad_x <- rotace_x * pi / 180
rad_y <- rotace_y * pi / 180
rad_z <- rotace_z * pi / 180
# Rotace bodu
rotuj_bod <- function(bod) {
x <- bod[1]
y <- bod[2]
z <- bod[3]
# Rotace kolem osy X
y_temp <- y * cos(rad_x) - z * sin(rad_x)
z_temp <- y * sin(rad_x) + z * cos(rad_x)
y <- y_temp
z <- z_temp
# Rotace kolem osy Y
x_temp <- x * cos(rad_y) + z * sin(rad_y)
z_temp <- -x * sin(rad_y) + z * cos(rad_y)
x <- x_temp
z <- z_temp
# Rotace kolem osy Z
x_temp <- x * cos(rad_z) - y * sin(rad_z)
y_temp <- x * sin(rad_z) + y * cos(rad_z)
x <- x_temp
y <- y_temp
return(c(x, y, z))
}
# Najít minimální Z souřadnici (pro umístění na zem)
if (zem) {
vsechny_body <- expand.grid(x = x, y = y, z = z)
rotovane <- t(apply(vsechny_body, 1, rotuj_bod))
min_z <- min(rotovane[, 3])
} else {
min_z <- 0
}
# Kreslení hran podél osy X
for (j in y) {
for (k in z) {
body <- matrix(0, nrow = length(x), ncol = 3)
for (i in 1:length(x)) {
bod <- rotuj_bod(c(x[i], j, k))
body[i, ] <- c(bod[1], bod[2], bod[3] - min_z)  # Odečíst min_z
}
lines3d(body, col = barva, lwd = tloustka)
}
}
# Kreslení hran podél osy Y
for (i in x) {
for (k in z) {
body <- matrix(0, nrow = length(y), ncol = 3)
for (j in 1:length(y)) {
bod <- rotuj_bod(c(i, y[j], k))
body[j, ] <- c(bod[1], bod[2], bod[3] - min_z)
}
lines3d(body, col = barva, lwd = tloustka)
}
}
# Kreslení hran podél osy Z
for (i in x) {
for (j in y) {
body <- matrix(0, nrow = length(z), ncol = 3)
for (k in 1:length(z)) {
bod <- rotuj_bod(c(i, j, z[k]))
body[k, ] <- c(bod[1], bod[2], bod[3] - min_z)
}
lines3d(body, col = barva, lwd = tloustka)
}
}
aspect3d(1, 1, 1)
return(rgl.cur())
}
# PŘÍKLADY:
# S automatickým umístěním na zem (zem = TRUE je výchozí)
vytvor_mrizku(nx = 20, ny = 20, nz = 10,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "darkgray", tloustka = 1.5)
# Bez umístění na zem (původní chování)
vytvor_mrizku(nx = 20, ny = 20, nz = 10,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray", tloustka = 1,
zem = FALSE)
# Bez umístění na zem (původní chování)
vytvor_mrizku(nx = 20, ny = 20, nz = 10,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray", tloustka = 1,
zem = FALSE)
# Bez umístění na zem (původní chování)
vytvor_mrizku(nx = 20, ny = 20, nz = 10,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray", tloustka = 1,
zem = TRUE)
# Bez umístění na zem (původní chování)
vytvor_mrizku(nx = 10, ny = 10, nz = 6,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray", tloustka = 1,
zem = TRUE)
vytvor_mrizku <- function(nx = 5, ny = 5, nz = 5,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "blue",
barva_hran = "black",  # NOVÝ PARAMETR
tloustka = 2,
tloustka_hran = 3,     # NOVÝ PARAMETR
zem = TRUE) {
open3d()
x <- 0:nx
y <- 0:ny
z <- 0:nz
rad_x <- rotace_x * pi / 180
rad_y <- rotace_y * pi / 180
rad_z <- rotace_z * pi / 180
# Rotace bodu
rotuj_bod <- function(bod) {
x <- bod[1]
y <- bod[2]
z <- bod[3]
# Rotace kolem osy X
y_temp <- y * cos(rad_x) - z * sin(rad_x)
z_temp <- y * sin(rad_x) + z * cos(rad_x)
y <- y_temp
z <- z_temp
# Rotace kolem osy Y
x_temp <- x * cos(rad_y) + z * sin(rad_y)
z_temp <- -x * sin(rad_y) + z * cos(rad_y)
x <- x_temp
z <- z_temp
# Rotace kolem osy Z
x_temp <- x * cos(rad_z) - y * sin(rad_z)
y_temp <- x * sin(rad_z) + y * cos(rad_z)
x <- x_temp
y <- y_temp
return(c(x, y, z))
}
# Najít minimální Z souřadnici
if (zem) {
vsechny_body <- expand.grid(x = x, y = y, z = z)
rotovane <- t(apply(vsechny_body, 1, rotuj_bod))
min_z <- min(rotovane[, 3])
} else {
min_z <- 0
}
# Kreslení hran podél osy X
for (j in y) {
for (k in z) {
# Určit, zda je to hrana krabice
je_hrana <- (j == 0 || j == ny) && (k == 0 || k == nz)
aktualni_barva <- if(je_hrana) barva_hran else barva
aktualni_tloustka <- if(je_hrana) tloustka_hran else tloustka
body <- matrix(0, nrow = length(x), ncol = 3)
for (i in 1:length(x)) {
bod <- rotuj_bod(c(x[i], j, k))
body[i, ] <- c(bod[1], bod[2], bod[3] - min_z)
}
lines3d(body, col = aktualni_barva, lwd = aktualni_tloustka)
}
}
# Kreslení hran podél osy Y
for (i in x) {
for (k in z) {
# Určit, zda je to hrana krabice
je_hrana <- (i == 0 || i == nx) && (k == 0 || k == nz)
aktualni_barva <- if(je_hrana) barva_hran else barva
aktualni_tloustka <- if(je_hrana) tloustka_hran else tloustka
body <- matrix(0, nrow = length(y), ncol = 3)
for (j in 1:length(y)) {
bod <- rotuj_bod(c(i, y[j], k))
body[j, ] <- c(bod[1], bod[2], bod[3] - min_z)
}
lines3d(body, col = aktualni_barva, lwd = aktualni_tloustka)
}
}
# Kreslení hran podél osy Z
for (i in x) {
for (j in y) {
# Určit, zda je to hrana krabice
je_hrana <- (i == 0 || i == nx) && (j == 0 || j == ny)
aktualni_barva <- if(je_hrana) barva_hran else barva
aktualni_tloustka <- if(je_hrana) tloustka_hran else tloustka
body <- matrix(0, nrow = length(z), ncol = 3)
for (k in 1:length(z)) {
bod <- rotuj_bod(c(i, j, z[k]))
body[k, ] <- c(bod[1], bod[2], bod[3] - min_z)
}
lines3d(body, col = aktualni_barva, lwd = aktualni_tloustka)
}
}
aspect3d(1, 1, 1)
return(rgl.cur())
}
# Šedá mřížka s černými hranami (jako na obrázku)
vytvor_mrizku(nx = 10, ny = 6, nz = 3,
rotace_x = 15, rotace_y = 25, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
# Šedá mřížka s černými hranami (jako na obrázku)
vytvor_mrizku(nx = 10, ny = 6, nz = 3,
rotace_x = 0, rotace_y = 25, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
# Šedá mřížka s černými hranami (jako na obrázku)
vytvor_mrizku(nx = 10, ny = 6, nz = 3,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
# Šedá mřížka s černými hranami (jako na obrázku)
vytvor_mrizku(nx = 6, ny = 10, nz = 6,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
# Šedá mřížka s černými hranami (jako na obrázku)
vytvor_mrizku(nx = 6, ny = 10, nz = 6,
rotace_x = 90, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
# Šedá mřížka s černými hranami (jako na obrázku)
vytvor_mrizku(nx = 3, ny = 10, nz = 6,
rotace_x = 90, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
# Šedá mřížka s černými hranami (jako na obrázku)
vytvor_mrizku(nx = 3, ny = 10, nz = 6,
rotace_x = 45, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
vytvor_mrizku(nx = 10, ny = 6, nz = 3,
rotace_x = 70, rotace_y = 30, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
view3d(theta = 0, phi = -20, zoom = 0.8)
view3d(theta = 0, phi = 20, zoom = 0.8)
view3d(theta = 10, phi = 20, zoom = 0.8)
view3d(theta = 20, phi = 20, zoom = 0.8)
view3d(theta = 45, phi = 20, zoom = 0.8)
view3d(theta = 60, phi = 20, zoom = 0.8)
view3d(theta = 60, phi = 0, zoom = 0.8)
view3d(theta = 60, phi = -20, zoom = 0.8)
view3d(theta = 60, phi = 45, zoom = 0.8)
vytvor_mrizku(nx = 10, ny = 6, nz = 3,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
view3d(theta = 60, phi = 45, zoom = 0.8)
view3d(theta = 60, phi = 0, zoom = 0.8)
view3d(theta = 80, phi = 0, zoom = 0.8)
view3d(theta = 120, phi = 0, zoom = 0.8)
view3d(theta = 0, phi = 0, zoom = 0.8)
view3d(theta = 10, phi = 0, zoom = 0.8)
aspect3d(1,1,1)
view3d(theta = 10, phi = 0, zoom = 0.8)
aspect3d(1,1,1)
vytvor_mrizku(nx = 10, ny = 6, nz = 3,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
view3d(theta = 10, phi = 0, zoom = 0.8)
view3d(theta = 20, phi = 0, zoom = 0.8)
view3d(theta = 30, phi = 0, zoom = 0.8)
view3d(theta = 30, phi = 0, zoom = 0.6)
view3d(theta = 30, phi = 0, zoom = 1)
par3d(FOV = 10)
view3d(theta = 30, phi = 0, zoom = 1)
vytvor_mrizku(nx = 20, ny = 6, nz = 3,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
par3d(FOV = 10)
view3d(theta = 30, phi = 0, zoom = 1)
vytvor_mrizku(nx = 20, ny = 6, nz = 3,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
par3d(FOV = 10)
view3d(theta = 30, phi = 0, zoom = 1)
par3d(FOV = 5)
view3d(theta = 30, phi = 0, zoom = 1)
par3d(FOV = 1)
view3d(theta = 30, phi = 0, zoom = 1)
par3d(FOV = 0)
view3d(theta = 30, phi = 0, zoom = 1)
par3d(FOV = 0)
?par3d
par3d(FOV = 0, scale=c(1,1,1))
view3d(theta = 30, phi = 0, zoom = 1)
vytvor_mrizku(nx = 10, ny = 6, nz = 3,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
par3d(FOV = 0, scale=c(1,1,1))
view3d(theta = 30, phi = 0, zoom = 1)
vytvor_mrizku(nx = 10, ny = 6, nz = 6,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
par3d(FOV = 0, scale=c(1,1,1))
view3d(theta = 30, phi = 0, zoom = 1)
library(rgl)
vytvor_mrizku <- function(nx = 5, ny = 5, nz = 5,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "blue",
barva_hran = "black",
tloustka = 2,
tloustka_hran = 3,
zem = TRUE,
posun_z = 0,
velikost_voxelu = 1,   # NOVÝ PARAMETR
nove_okno = TRUE) {
if (nove_okno) {
open3d()
}
# Škálování podle velikosti voxelu
x <- (0:nx) * velikost_voxelu
y <- (0:ny) * velikost_voxelu
z <- (0:nz) * velikost_voxelu
rad_x <- rotace_x * pi / 180
rad_y <- rotace_y * pi / 180
rad_z <- rotace_z * pi / 180
# Rotace bodu
rotuj_bod <- function(bod) {
x <- bod[1]
y <- bod[2]
z <- bod[3]
# Rotace kolem osy X
y_temp <- y * cos(rad_x) - z * sin(rad_x)
z_temp <- y * sin(rad_x) + z * cos(rad_x)
y <- y_temp
z <- z_temp
# Rotace kolem osy Y
x_temp <- x * cos(rad_y) + z * sin(rad_y)
z_temp <- -x * sin(rad_y) + z * cos(rad_y)
x <- x_temp
z <- z_temp
# Rotace kolem osy Z
x_temp <- x * cos(rad_z) - y * sin(rad_z)
y_temp <- x * sin(rad_z) + y * cos(rad_z)
x <- x_temp
y <- y_temp
return(c(x, y, z))
}
# Najít minimální Z souřadnici
if (zem && posun_z == 0) {
vsechny_body <- expand.grid(x = x, y = y, z = z)
rotovane <- t(apply(vsechny_body, 1, rotuj_bod))
min_z <- min(rotovane[, 3])
} else {
min_z <- 0
}
# Kreslení hran podél osy X
for (j in y) {
for (k in z) {
je_hrana <- (j == min(y) || j == max(y)) && (k == min(z) || k == max(z))
aktualni_barva <- if(je_hrana) barva_hran else barva
aktualni_tloustka <- if(je_hrana) tloustka_hran else tloustka
body <- matrix(0, nrow = length(x), ncol = 3)
for (i in 1:length(x)) {
bod <- rotuj_bod(c(x[i], j, k))
body[i, ] <- c(bod[1], bod[2], bod[3] - min_z + posun_z)
}
lines3d(body, col = aktualni_barva, lwd = aktualni_tloustka)
}
}
# Kreslení hran podél osy Y
for (i in x) {
for (k in z) {
je_hrana <- (i == min(x) || i == max(x)) && (k == min(z) || k == max(z))
aktualni_barva <- if(je_hrana) barva_hran else barva
aktualni_tloustka <- if(je_hrana) tloustka_hran else tloustka
body <- matrix(0, nrow = length(y), ncol = 3)
for (j in 1:length(y)) {
bod <- rotuj_bod(c(i, y[j], k))
body[j, ] <- c(bod[1], bod[2], bod[3] - min_z + posun_z)
}
lines3d(body, col = aktualni_barva, lwd = aktualni_tloustka)
}
}
# Kreslení hran podél osy Z
for (i in x) {
for (j in y) {
je_hrana <- (i == min(x) || i == max(x)) && (j == min(y) || j == max(y))
aktualni_barva <- if(je_hrana) barva_hran else barva
aktualni_tloustka <- if(je_hrana) tloustka_hran else tloustka
body <- matrix(0, nrow = length(z), ncol = 3)
for (k in 1:length(z)) {
bod <- rotuj_bod(c(i, j, z[k]))
body[k, ] <- c(bod[1], bod[2], bod[3] - min_z + posun_z)
}
lines3d(body, col = aktualni_barva, lwd = aktualni_tloustka)
}
}
aspect3d(1, 1, 1)
# Vrátit výšku krabice (pro umístění další vrstvy)
return(list(window = rgl.cur(), vyska = max(z)))
}
# SPODNÍ mřížka (hustá, voxely 1×1×1)
dolni <- vytvor_mrizku(nx = 40, ny = 20, nz = 8,
rotace_x = 65, rotace_y = 35, rotace_z = 0,
barva = "gray70",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5,
velikost_voxelu = 1,
nove_okno = TRUE)
# HORNÍ mřížka (poloviční rozlišení, voxely 2×2×2, navazuje přesně)
vytvor_mrizku(nx = 20, ny = 10, nz = 4,
rotace_x = 65, rotace_y = 35, rotace_z = 0,
barva = "lightblue",
barva_hran = "darkblue",
tloustka = 1.5,
tloustka_hran = 3,
posun_z = dolni$vyska,    # Začíná tam, kde končí první
velikost_voxelu = 2,      # Dvojnásobně velké voxely
zem = FALSE,
nove_okno = FALSE)
par3d(FOV = 10)
view3d(theta = 0, phi = -15, zoom = 0.7)
par3d(FOV = 0)
par3d(FOV = 0)
# HORNÍ mřížka (poloviční rozlišení, voxely 2×2×2, navazuje přesně)
vytvor_mrizku(nx = 12, ny = 6, nz = 4,
rotace_x = 65, rotace_y = 35, rotace_z = 0,
barva = "lightblue",
barva_hran = "darkblue",
tloustka = 1.5,
tloustka_hran = 3,
posun_z = dolni$vyska,    # Začíná tam, kde končí první
velikost_voxelu = 2,      # Dvojnásobně velké voxely
zem = FALSE,
nove_okno = FALSE)
# HORNÍ mřížka (poloviční rozlišení, voxely 2×2×2, navazuje přesně)
vytvor_mrizku(nx = 12, ny = 6, nz = 4,
rotace_x = 65, rotace_y = 35, rotace_z = 0,
barva = "lightblue",
barva_hran = "darkblue",
tloustka = 1.5,
tloustka_hran = 3,
posun_z = dolni$vyska,    # Začíná tam, kde končí první
velikost_voxelu = 2,      # Dvojnásobně velké voxely
zem = FALSE,
nove_okno = FALSE)
par3d(FOV = 0)
vytvor_mrizku(nx = 10, ny = 6, nz = 6,
rotace_x = 0, rotace_y = 0, rotace_z = 0,
barva = "gray",
barva_hran = "black",
tloustka = 1,
tloustka_hran = 2.5)
par3d(FOV = 0, scale=c(1,1,1))
view3d(theta = 30, phi = 0, zoom = 1)
